APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel
DB_USERNAME=root
DB_PASSWORD=

BROADCAST_DRIVER=log
CACHE_DRIVER=file
FILESYSTEM_DRIVER=local
QUEUE_CONNECTION=database
SESSION_DRIVER=file
SESSION_LIFETIME=120

MEMCACHED_HOST=127.0.0.1

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=null
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_APP_CLUSTER=mt1

MIX_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
MIX_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# LARAVEL-USP-THEME
# https://github.com/uspdev/laravel-usp-theme

# O laravel-usp-theme permite que seja criado links
# para outras aplica√ß√µes da unidade
#USP_THEME_SISTEMAS_1='{"text":"Pessoas","url":"http://localhost/pessoas"}'
#USP_THEME_SISTEMAS_2='{"text":"LDAP","url":"http://localhost/ldap"}'

# Escolha o skin a ser utilizado
#USP_THEME_SKIN=uspdev

REPLICADO_HOST=
REPLICADO_PORT=
REPLICADO_DATABASE=
REPLICADO_USERNAME=
REPLICADO_PASSWORD=
REPLICADO_SYBASE=

UNIDADE=IME

# SENHAUNICA-SOCIALITE ######################################
# https://github.com/uspdev/senhaunica-socialite
SENHAUNICA_KEY=
SENHAUNICA_SECRET=
SENHAUNICA_CALLBACK_ID=

# URL do servidor oauth no ambiente de dev (default: no)
#SENHAUNICA_DEV="https://dev.uspdigital.usp.br/wsusuario/oauth"

# URL do servidor oauth para uso com senhaunica-faker
#SENHAUNICA_DEV="http://127.0.0.1:3141/wsusuario/oauth"

# Esses usu√°rios ter√£o privil√©gios especiais
#SENHAUNICA_ADMINS=11111,22222,33333
#SENHAUNICA_GERENTES=4444,5555,6666

# Se os logins forem limitados a usu√°rios cadastrados (onlyLocalUsers=true),
# pode ser √∫til cadastr√°-los aqui.
#SENHAUNICA_USERS=777,888

# Se true, os privil√©gios especiais ser√£o revogados ao remover da lista (default: false)
#SENHAUNICA_DROP_PERMISSIONS=true

# Habilite para salvar o retorno em storage/app/debug/oauth/ (default: false)
#SENHAUNICA_DEBUG=true

# SENHAUNICA-SOCIALITE ######################################

# SALAS API CONFIGURATION ######################################
# Sistema moderno de reservas que substitui a escrita direta no banco Urano
# Configura√ß√£o completa para integra√ß√£o com a API REST do sistema Salas

# URL base da API Salas (OBRIGAT√ìRIO em produ√ß√£o)
# Aponta para o servidor onde a API Salas est√° hospedada
# ‚ö†Ô∏è  PRODU√á√ÉO: Deve apontar para https://salas.ime.usp.br
# üîí DESENVOLVIMENTO: Pode apontar para ambiente de teste
SALAS_API_URL=https://salas.ime.usp.br

# Credenciais para autentica√ß√£o na API Salas (OBRIGAT√ìRIAS)
# Email e senha de usu√°rio autorizado a criar reservas via API
# ‚ö†Ô∏è  SEGURAN√áA: Use credenciais dedicadas para o sistema, n√£o pessoais
# üîí PRODU√á√ÉO: Configurar usu√°rio espec√≠fico com permiss√µes limitadas
SALAS_API_EMAIL=
SALAS_API_PASSWORD=

# Controle principal da integra√ß√£o (CR√çTICO)
# true: Usa API Salas para todas as reservas
# false: Mant√©m sistema legado (modo de compatibilidade)
# ‚ö†Ô∏è  MIGRA√á√ÉO: Ativar somente ap√≥s testes completos em staging
SALAS_USE_API=false

# Estrat√©gia de erro quando API Salas indispon√≠vel (DECIS√ÉO ARQUITETURAL AC5)
# false: Erro expl√≠cito - informa usu√°rio e falha opera√ß√£o (RECOMENDADO)
# true: Fallback silencioso para Urano (DEPRECIADO - removido em AC5)
# ‚úÖ PRODU√á√ÉO: Deve ser false para clareza operacional e monitoramento
SALAS_FALLBACK_TO_URANO=false

# Controles de logging da integra√ß√£o Salas
# Essenciais para monitoramento e troubleshooting
# ‚ö†Ô∏è  PRODU√á√ÉO: SALAS_ENABLE_LOGGING=true sempre ativo
SALAS_ENABLE_LOGGING=true

# Logs detalhados de requisi√ß√µes HTTP (DEBUG)
# true: Registra todas as requisi√ß√µes feitas √† API (headers, payload)
# ‚ö†Ô∏è  DESENVOLVIMENTO: √ötil para debug, PRODU√á√ÉO: desligar por performance
SALAS_LOG_REQUESTS=false

# Logs detalhados de respostas HTTP (DEBUG)  
# true: Registra todas as respostas da API (status, headers, body)
# ‚ö†Ô∏è  DESENVOLVIMENTO: √ötil para debug, PRODU√á√ÉO: desligar por performance
SALAS_LOG_RESPONSES=false

# TIMEOUTS DA API SALAS (segundos) ######################################
# Configura√ß√µes cr√≠ticas para estabilidade da integra√ß√£o

# Timeout para estabelecer conex√£o TCP com servidor
# Valor baixo detecta problemas de rede rapidamente
# üïê PRODU√á√ÉO: 10s adequado, 5s para detec√ß√£o mais r√°pida
SALAS_API_CONNECTION_TIMEOUT=10

# Timeout para receber resposta completa da API
# Inclui processamento da requisi√ß√£o no servidor Salas
# üïê PRODU√á√ÉO: 30s para opera√ß√µes complexas, 60s em hor√°rios de pico
SALAS_API_REQUEST_TIMEOUT=30

# CONFIGURA√á√ÉO DE RETRY ######################################
# Sistema de reenvio autom√°tico para lidar com falhas tempor√°rias

# N√∫mero m√°ximo de tentativas para cada requisi√ß√£o
# Inclui a tentativa inicial + retries
# üîÑ PRODU√á√ÉO: 3 tentativas equilibra resili√™ncia com performance
SALAS_API_MAX_RETRIES=3

# Delay inicial entre tentativas (segundos)
# Evita sobrecarga imediata do servidor em caso de falhas
SALAS_API_RETRY_DELAY=1

# Delay m√°ximo entre tentativas (segundos)
# Impede delays excessivos em backoff exponencial
# üïê RECOMENDADO: N√£o exceder 10s para manter UX responsiva
SALAS_API_MAX_RETRY_DELAY=8

# RATE LIMITING ######################################
# Prote√ß√£o contra sobrecarga da API Salas

# N√∫mero m√°ximo de requisi√ß√µes por minuto
# Previne rate limiting pelo servidor Salas
# üìä PRODU√á√ÉO: 30 req/min seguro, ajustar conforme uso real
SALAS_API_RATE_LIMIT=30

# Rajadas permitidas acima do limite por minuto
# Permite picos de tr√°fego sem rejei√ß√£o imediata
# ‚ö° CONFIGURA√á√ÉO: 5 requisi√ß√µes de burst adequado
SALAS_API_BURST_LIMIT=5

# CACHE DE RESPOSTAS ######################################
# Otimiza√ß√£o de performance e redu√ß√£o de carga na API

# Habilita cache de respostas da API
# true: Melhora performance e reduz carga
# false: Sempre consulta API (√∫til para debug)
# üöÄ PRODU√á√ÉO: true obrigat√≥rio para performance
SALAS_CACHE_ENABLED=true

# TTL do cache de salas (segundos)
# Dados de salas mudam raramente, cache longo adequado
# üè¢ RECOMENDADO: 3600s (1h), pode ser maior em produ√ß√£o est√°vel
SALAS_CACHE_ROOMS_TTL=3600

# TTL do cache de finalidades (segundos)
# Dados muito est√°veis, cache longo seguro
# üìã RECOMENDADO: 86400s (24h), dados raramente mudam
SALAS_CACHE_FINALIDADES_TTL=86400

# TTL do cache do token de autentica√ß√£o (segundos)
# Baseado na expira√ß√£o do token JWT da API Salas
# üîë PRODU√á√ÉO: Deve ser menor que expira√ß√£o real do token
SALAS_CACHE_TOKEN_TTL=3600

# CIRCUIT BREAKER ######################################
# Prote√ß√£o contra cascata de falhas quando API indispon√≠vel

# Habilita circuit breaker para falhas da API
# true: Para requisi√ß√µes quando muitas falhas consecutivas
# false: Continua tentando independente de falhas
# üõ°Ô∏è  PRODU√á√ÉO: true obrigat√≥rio para estabilidade
SALAS_CIRCUIT_BREAKER_ENABLED=true

# N√∫mero de falhas consecutivas para abrir circuit
# Falhas 4xx (erro cliente) n√£o contam
# ‚ö†Ô∏è  CONFIGURA√á√ÉO: 5 falhas equilibra sensibilidade com estabilidade  
SALAS_CIRCUIT_BREAKER_FAILURES=5

# Tempo que circuit fica aberto (segundos)
# Per√≠odo que requisi√ß√µes s√£o rejeitadas automaticamente
# üïê PRODU√á√ÉO: 300s (5min) permite recupera√ß√£o sem espera excessiva
SALAS_CIRCUIT_BREAKER_TIMEOUT=300

# Tempo para testar se API voltou (segundos)
# Intervalo entre tentativas de reconex√£o
# ‚ö° CONFIGURA√á√ÉO: 30s adequado para detec√ß√£o r√°pida de recupera√ß√£o
SALAS_CIRCUIT_BREAKER_RECOVERY=30

# TRATAMENTO DE ERROS ######################################
# Configura√ß√µes para logging e notifica√ß√£o de problemas

# Registra todos os erros da API nos logs Laravel
# true: Essencial para troubleshooting e monitoramento
# false: S√≥ para debug, nunca em produ√ß√£o
# üìù PRODU√á√ÉO: true obrigat√≥rio para opera√ß√µes
SALAS_LOG_ERRORS=true

# Notifica√ß√µes ativas para falhas da API
# true: Envia alertas por email/Slack quando API falha
# false: S√≥ registra nos logs
# üîî PRODU√á√ÉO: true recomendado para alertas cr√≠ticos
SALAS_NOTIFY_FAILURES=false

# Canais de notifica√ß√£o para alertas (log, mail, slack)
# Define onde enviar notifica√ß√µes de falhas
# üìß CONFIGURA√á√ÉO: Adicionar 'mail' para produ√ß√£o
SALAS_NOTIFICATION_CHANNELS=log

# M√°ximo de falhas consecutivas antes de alerta cr√≠tico
# Threshold para acionar notifica√ß√µes de emerg√™ncia
# üö® OPERA√á√ÉO: 10 falhas indica problema sist√™mico
SALAS_MAX_FAILURES=10
